<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>D√©fi-Prono | Gagne 2x + Bonus - RANTAB</title>
  <meta name="description" content="Participe au D√©fi-Prono RANTAB, choisis une cote entre 2,0 et 2,99 et double ton gain !">

  <!-- Open Graph pour partage -->
  <meta property="og:title" content="D√©fi-Prono | Gagne 2x + Bonus - RANTAB" />
  <meta property="og:description" content="Choisis une cote entre 2,0 et 2,99, envoie ta mise via MonCash et double ton b√©n√©fice si tu gagnes." />
  <meta property="og:image" content="https://rantabht.com/assets/defi-prono-cover.jpg" />
  <meta property="og:url" content="https://rantabht.com/defi-prono" />
  <meta property="og:type" content="website" />

  <link rel="icon" href="/favicon.ico" />

  <!-- Style CSS -->
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0e0e0e;
      color: #fff;
      margin: 0;
      padding: 0;
    }

    header {
      background: #1c1c1c;
      padding: 20px;
      text-align: center;
    }

    header h1 {
      margin: 0;
      font-size: 28px;
      color: #00e676;
    }

    .container {
      max-width: 500px;
      margin: 30px auto;
      background: #1e1e1e;
      padding: 20px;
      border-radius: 10px;
    }

    .info {
      margin-bottom: 20px;
      line-height: 1.6;
    }

    label {
      display: block;
      margin-top: 10px;
    }

    input, select, textarea {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 5px;
      border: none;
      background: #2e2e2e;
      color: #fff;
    }

    button {
      margin-top: 20px;
      padding: 12px;
      background: #00e676;
      color: #000;
      font-weight: bold;
      border: none;
      width: 100%;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
    }

    button:hover {
      background: #00c853;
    }

    .moncash {
      text-align: center;
      margin-top: 20px;
      font-size: 14px;
    }

    .whatsapp {
      text-align: center;
      margin-top: 20px;
    }

    .whatsapp a {
      background: #25D366;
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      display: inline-block;
      text-decoration: none;
      font-weight: bold;
    }

    #previewContainer img {
      max-width: 100%;
      border-radius: 5px;
      margin-top: 10px;
    }

    /* Barre de progression */
    .progress-bar {
      height: 4px;
      width: 0%;
      background: #00e676;
      transition: width 0.5s ease;
      margin-bottom: 10px;
      border-radius: 2px;
    }
  </style>
</head>
<body>

  <!-- En-t√™te -->
  <header>
    <h1>üéØ D√©fi-Prono RANTAB</h1>
    <p>Double ton b√©n√©fice avec une cote de 2 !</p>
  </header>

  <div class="container">

    <!-- Barre de progression -->
    <div class="progress-bar" id="progressBar"></div>

    <!-- R√®gles -->
    <div class="info">
      <p>üí° <strong>Comment √ßa marche ?</strong></p>
      <ul>
        <li>Choisis une cote entre 2,0 et 2,99</li>
        <li>Tu mises (ex: 50 Gdes via MonCash)</li>
        <li>Si tu gagnes, tu re√ßois 2x ton b√©n√©fice</li>
        <li>Formule: (Mise x C√¥te = Gain + Mise)</li>
        <li>Si tu perds, ta mise est perdue</li>
        <li>üì∑ Tu peux envoyer une capture d‚Äô√©cran ou un code de pari</li>
        <li style="color:#ff5252;"><strong>‚ö†Ô∏è Seules les cotes 2 sont pay√©es, les d√©cimales ne comptent pas.</strong></li>
      </ul>
    </div>

    <!-- Formulaire -->
    <form id="defiForm">
      <label for="userId">Num√©ro du joueur (ID) :</label>
      <input type="text" id="userId" readonly required>

      <label for="nom">Nom MonCash :</label>
      <input type="text" id="nom" required>

      <label for="numero">Num√©ro MonCash (8 chiffres) :</label>
      <input type="text" id="numero" maxlength="8" required>

      <label for="cote">Cote (entre 2,0 et 2,99) :</label>
      <input type="number" step="0.01" id="cote" min="2.0" max="2.99" required>

      <label for="montant">Montant mis√© (50 √† 500 Gdes) :</label>
      <input type="number" id="montant" min="50" max="500" required>

      <label for="date">Choisissez une date :</label>
      <input type="date" id="date" name="date" required>

      <label for="betcode">Code du pari (ou capture) :</label>
      <input type="text" id="betcode" placeholder="Ex: 7JK29X" />

      <label for="screenshot">Capture d‚Äô√©cran (optionnel si code saisi) :</label>
      <input type="file" id="screenshot" accept="image/*" />

      <div id="previewContainer" style="display:none;">
        <p>üñºÔ∏è <strong>Aper√ßu :</strong></p>
        <img id="previewImage" alt="Capture s√©lectionn√©e">
      </div>

      <button type="submit">Envoyer via WhatsApp</button>
    </form>

    <!-- Infos MonCash -->
    <div class="moncash">
      üí≥ Envoie ta mise via <strong>MonCash</strong> :<br>
      <strong>+509 3729-1397</strong><br>
      <img src="qr-code.jpg" alt="QR MonCash" style="width: 120px; margin-top: 10px;">
    </div>

    <!-- WhatsApp -->
    <div class="whatsapp" id="whatsappLink" style="display:none;">
      <a id="whatsappButton" href="#" target="_blank">üì© Envoyer mon pari</a>
    </div>
  </div>

  <!-- Script -->
  <script>
    const form = document.getElementById("defiForm");
    const whatsappButton = document.getElementById("whatsappButton");
    const screenshotInput = document.getElementById("screenshot");
    const previewImage = document.getElementById("previewImage");
    const previewContainer = document.getElementById("previewContainer");
    const userIdInput = document.getElementById("userId");
    const progressBar = document.getElementById("progressBar");

    // G√©n√©ration ID utilisateur automatique
    function generateUserId() {
      let compteur = localStorage.getItem("compteurID") || 0;
      compteur++;
      localStorage.setItem("compteurID", compteur);
      userIdInput.value = "RANTAB" + String(compteur).padStart(3, '0');
    }

    // Aper√ßu image
    screenshotInput.addEventListener("change", function () {
      const file = this.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function (e) {
          previewImage.src = e.target.result;
          previewContainer.style.display = "block";
        };
        reader.readAsDataURL(file);
      } else {
        previewContainer.style.display = "none";
        previewImage.src = "";
      }
    });

    // Validation et envoi du formulaire
    form.addEventListener("submit", function (e) {
      e.preventDefault();

      const userId = userIdInput.value.trim();
      const nom = document.getElementById("nom").value.trim();
      const numero = document.getElementById("numero").value.trim();
      const cote = parseFloat(document.getElementById("cote").value);
      const montant = parseInt(document.getElementById("montant").value);
      const betcode = document.getElementById("betcode").value.trim();
      const screenshot = screenshotInput.value;
      const date = document.getElementById("date").value;

      // V√©rification code ou capture
      if (!betcode && !screenshot) {
        alert("‚ùó Saisis un code de pari ou envoie une capture.");
        return;
      }

      // V√©rification cote
      if (cote < 2.0 || cote > 2.99) {
        alert("‚ùå Seules les cotes entre 2,0 et 2,99 sont autoris√©es.");
        return;
      }

      // V√©rification montant
      if (montant < 50 || montant > 500) {
        alert("‚ùå Mise invalide. (50 √† 500 Gdes)");
        return;
      }

      // V√©rification num√©ro MonCash
      if (!/^\d{8}$/.test(numero)) {
        alert("‚ùå Num√©ro MonCash invalide (8 chiffres).");
        return;
      }

      // Animation barre de progression
      progressBar.style.width = "100%";

      // Cr√©ation message WhatsApp
      let message = `üéØ *D√©fi-Prono RANTAB* ‚Äì ${date}\n\nüÜî ID : ${userId}\nüë§ Nom : ${nom}\nüì± MonCash : ${numero}\nüìä Cote : ${cote}\nüíµ Mise : ${montant} Gdes`;
      message += betcode ? `\nüî¢ Code : ${betcode}` : `\nüì∑ Capture jointe`;
      message += `\n\n‚úÖ Paiement confirm√©.`;

      const whatsappURL = `https://wa.me/50937291397?text=${encodeURIComponent(message)}`;

      // Ouverture WhatsApp dans un nouvel onglet
      window.open(whatsappURL, "_blank");

      // Nettoyage + g√©n√©ration nouveau ID
      setTimeout(() => {
        form.reset();
        previewContainer.style.display = "none";
        previewImage.src = "";
        progressBar.style.width = "0%";
        generateUserId();
      }, 1500);
    });

    // G√©n√©ration ID au chargement
    window.onload = generateUserId;
  </script>

</body>
</html>
